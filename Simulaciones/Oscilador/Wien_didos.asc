Version 4
SHEET 1 6208 1824
WIRE 5216 -144 5168 -144
WIRE 5376 -144 5296 -144
WIRE 5440 -144 5376 -144
WIRE 5568 -144 5520 -144
WIRE 5168 -112 5168 -144
WIRE -512 -80 -544 -80
WIRE -368 -80 -368 -112
WIRE -368 -80 -432 -80
WIRE -304 -80 -304 -112
WIRE -240 -80 -304 -80
WIRE -368 -32 -368 -80
WIRE -304 -32 -304 -80
WIRE 5376 0 5376 -144
WIRE 5440 0 5376 0
WIRE -544 16 -544 -80
WIRE -432 16 -544 16
WIRE 5568 16 5568 -144
WIRE 5568 16 5504 16
WIRE 5632 16 5568 16
WIRE 5104 32 4992 32
WIRE 5248 32 5184 32
WIRE 5376 32 5328 32
WIRE 5440 32 5376 32
WIRE 352 48 224 48
WIRE 1520 48 1392 48
WIRE 2272 48 2208 48
WIRE 2400 48 2336 48
WIRE 224 112 224 48
WIRE 240 112 224 112
WIRE 1392 112 1392 48
WIRE 1408 112 1392 112
WIRE -528 128 -560 128
WIRE -432 128 -432 16
WIRE -432 128 -448 128
WIRE -368 128 -432 128
WIRE -240 128 -240 -80
WIRE -240 128 -288 128
WIRE 352 128 352 48
WIRE 352 128 304 128
WIRE 384 128 352 128
WIRE 832 128 768 128
WIRE 1520 128 1520 48
WIRE 1520 128 1472 128
WIRE 1552 128 1520 128
WIRE 2208 128 2208 48
WIRE 2208 128 2160 128
WIRE 2272 128 2208 128
WIRE 2400 128 2400 48
WIRE 2400 128 2352 128
WIRE -48 144 -192 144
WIRE 240 144 208 144
WIRE 1024 144 896 144
WIRE 1408 144 1376 144
WIRE 3040 144 2912 144
WIRE 832 160 800 160
WIRE -560 176 -560 128
WIRE -192 208 -192 144
WIRE -144 208 -192 208
WIRE 2912 208 2912 144
WIRE 2928 208 2912 208
WIRE 5104 208 4992 208
WIRE 5248 208 5184 208
WIRE 5376 208 5376 32
WIRE 5376 208 5328 208
WIRE -432 224 -432 128
WIRE -416 224 -432 224
WIRE -48 224 -48 144
WIRE -48 224 -80 224
WIRE 16 224 -48 224
WIRE 800 224 800 160
WIRE 2208 224 2208 128
WIRE 2224 224 2208 224
WIRE 3040 224 3040 144
WIRE 3040 224 2992 224
WIRE 3072 224 3040 224
WIRE -240 240 -240 128
WIRE -240 240 -352 240
WIRE -144 240 -240 240
WIRE 2400 240 2400 128
WIRE 2400 240 2288 240
WIRE 2432 240 2400 240
WIRE 2928 240 2896 240
WIRE -512 256 -592 256
WIRE -432 256 -512 256
WIRE -416 256 -432 256
WIRE 2224 256 2208 256
WIRE -592 272 -592 256
WIRE -512 272 -512 256
WIRE 2208 304 2208 256
WIRE -832 320 -832 304
WIRE -720 320 -720 304
WIRE -592 368 -592 336
WIRE -512 368 -512 352
WIRE -432 368 -432 256
WIRE -416 368 -432 368
WIRE -336 368 -352 368
WIRE -240 368 -240 240
WIRE -240 368 -256 368
WIRE 5104 384 4992 384
WIRE 5248 384 5184 384
WIRE 5376 384 5376 208
WIRE 5376 384 5328 384
WIRE 176 400 144 400
WIRE 288 400 256 400
WIRE 320 400 288 400
WIRE 416 400 400 400
WIRE -832 416 -832 400
WIRE -720 416 -720 400
WIRE 144 432 144 400
WIRE 2256 448 2208 448
WIRE 2400 448 2336 448
WIRE 288 496 288 400
WIRE 304 496 288 496
WIRE 416 512 416 400
WIRE 416 512 368 512
WIRE 448 512 416 512
WIRE 272 528 192 528
WIRE 304 528 272 528
WIRE 2208 528 2208 448
WIRE 2256 528 2208 528
WIRE 2400 528 2400 448
WIRE 2400 528 2336 528
WIRE 5104 560 4992 560
WIRE 5248 560 5184 560
WIRE 5376 560 5376 384
WIRE 5376 560 5328 560
WIRE 192 576 192 528
WIRE 272 576 272 528
WIRE 2112 624 2048 624
WIRE 2208 624 2208 528
WIRE 2208 624 2192 624
WIRE 2272 624 2208 624
WIRE 2400 624 2400 528
WIRE 2400 624 2336 624
WIRE 3056 640 2928 640
WIRE 4496 656 4368 656
WIRE 2928 704 2928 640
WIRE 2944 704 2928 704
WIRE 2208 720 2208 624
WIRE 2224 720 2208 720
WIRE 3056 720 3056 640
WIRE 3056 720 3008 720
WIRE 3088 720 3056 720
WIRE 4368 720 4368 656
WIRE 4384 720 4368 720
WIRE 2400 736 2400 624
WIRE 2400 736 2288 736
WIRE 2432 736 2400 736
WIRE 2944 736 2912 736
WIRE 3776 736 3728 736
WIRE 4496 736 4496 656
WIRE 4496 736 4448 736
WIRE 4528 736 4496 736
WIRE 5104 736 4992 736
WIRE 5248 736 5184 736
WIRE 5376 736 5376 560
WIRE 5376 736 5328 736
WIRE 2224 752 2208 752
WIRE 3984 752 3840 752
WIRE 4032 752 3984 752
WIRE 4384 752 4352 752
WIRE 3600 768 3552 768
WIRE 3728 768 3680 768
WIRE 3776 768 3728 768
WIRE 3984 784 3984 752
WIRE 2208 800 2208 752
WIRE 3728 816 3728 768
WIRE 3984 864 3984 848
WIRE 3728 928 3728 896
FLAG 2256 208 +V
FLAG 2256 272 -V
FLAG 2432 240 OUT_DELTA
FLAG 2208 304 0
FLAG 336 544 -V
FLAG 336 480 +V
FLAG 2256 704 +V
FLAG 2256 768 -V
FLAG 2432 736 OUT_TRIANGULAR
FLAG 560 512 OUT_BUF_SINE
FLAG 864 176 -V
FLAG 1440 160 -V
FLAG 1440 96 +V
FLAG 1552 128 OUT_BUF_SQUARE
FLAG 2208 800 0
FLAG 1024 144 OUT_SQUARE
FLAG 1376 144 OUT_SQUARE
FLAG 3552 768 +V
FLAG 3808 720 +V
FLAG 2976 752 -V
FLAG 2976 688 +V
FLAG 4032 752 OUT_PWM
FLAG 3728 928 -V
FLAG 272 896 noise
FLAG 272 688 noise
FLAG 272 976 0
FLAG 800 224 0
FLAG 3088 720 OUT_BUF_TRIANGULAR
FLAG 864 112 +V
FLAG 5472 48 -V
FLAG 5472 -16 +V
FLAG 192 688 OUT_SINE
FLAG 768 128 OUT_BUF_SINE
FLAG 2016 128 OUT_BUF_SQUARE
FLAG 2048 624 OUT_BUF_SQUARE
FLAG 4992 32 OUT_BUF_SINE
FLAG 4992 208 OUT_BUF_SQUARE
FLAG 5632 16 OUT
FLAG 2848 736 OUT_TRIANGULAR
FLAG 3728 736 OUT_BUF_TRIANGULAR
FLAG 3984 864 0
FLAG 4992 560 OUT_BUF_TRIANGULAR
FLAG 2960 256 -V
FLAG 2960 192 +V
FLAG 2896 240 OUT_DELTA
FLAG 3072 224 OUT_BUF_DELTA
FLAG 4992 384 OUT_BUF_DELTA
FLAG 4416 768 -V
FLAG 4416 704 +V
FLAG 4528 736 OUT_BUF_PWM
FLAG 4352 752 OUT_PWM
FLAG 4992 736 OUT_BUF_PWM
FLAG 5120 -16 +V
FLAG 5168 -16 -V
FLAG 5104 160 +V
FLAG 5168 160 -V
FLAG 5104 336 +V
FLAG 5168 336 -V
FLAG 5088 512 +V
FLAG 5168 512 -V
FLAG 5088 688 +V
FLAG 5168 688 -V
FLAG 5168 -112 0
FLAG 144 432 0
FLAG 272 160 -V
FLAG 272 96 +V
FLAG 208 144 OUT_SINE
FLAG 384 128 OUT_BUF_SINE
FLAG 3808 784 -V
FLAG -384 208 +V
FLAG -384 272 -V
FLAG -832 304 +V
FLAG -720 416 0
FLAG -832 416 0
FLAG -720 304 -V
FLAG -512 368 0
FLAG -592 368 0
FLAG -112 192 +V
FLAG -112 256 -V
FLAG -560 176 0
FLAG 16 224 OUT_SINE
SYMBOL res 2368 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL cap 2160 112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 100p
SYMBOL res 2208 608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 86k
SYMBOL cap 2336 608 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 10n
SYMBOL res 2112 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res 2352 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1Meg
SYMBOL OpAmps\\RH1128 2256 672 R0
SYMATTR InstName U7
SYMBOL OpAmps\\RH1128 2256 176 R0
SYMATTR InstName U6
SYMBOL OpAmps\\RH1128 864 80 R0
SYMATTR InstName U3
SYMBOL cap 2336 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 100p
SYMBOL res 2352 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10Meg
SYMBOL OpAmps\\RH1128 3808 688 R0
SYMATTR InstName U11
SYMBOL res 3584 784 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R22
SYMATTR Value 100K
SYMBOL res 3744 912 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R23
SYMATTR Value {R_2}
SYMBOL schottky 4000 848 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 256 592 R0
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL bv 272 880 R0
SYMATTR InstName B1
SYMATTR Value V=(white(2e6*time)/10)
SYMBOL res 416 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res 176 592 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res 5344 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL OpAmps\\RH1128 5472 -48 R0
SYMATTR InstName U8
SYMBOL res 5344 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL res 5344 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res 5536 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {R_3}
SYMBOL res 5344 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL cap 2912 720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 10p
SYMBOL res 5344 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL sw 5200 32 R90
SYMATTR InstName S1
SYMATTR Value SW_1
SYMBOL sw 5200 208 R90
SYMATTR InstName S2
SYMATTR Value SW_1
SYMBOL sw 5200 384 R90
SYMATTR InstName S3
SYMATTR Value SW_1
SYMBOL sw 5200 560 R90
SYMATTR InstName S4
SYMATTR Value SW_1
SYMBOL sw 5200 736 R90
SYMATTR InstName S5
SYMATTR Value SW_1
SYMBOL OpAmps\\RH1128 1440 64 R0
SYMATTR InstName U4
SYMBOL OpAmps\\RH1128 336 448 R0
SYMATTR InstName U2
SYMBOL OpAmps\\RH1128 2960 160 R0
SYMATTR InstName U5
SYMBOL OpAmps\\RH1128 2976 656 R0
SYMATTR InstName U9
SYMBOL OpAmps\\RH1128 4416 672 R0
SYMATTR InstName U10
SYMBOL res 5312 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res 272 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 1k
SYMBOL OpAmps\\RH1128 272 64 R0
SYMATTR InstName U12
SYMBOL voltage -832 304 R0
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL voltage -720 304 R0
SYMATTR InstName V4
SYMATTR Value -15
SYMBOL res -272 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL res -432 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 4.7K
SYMBOL res -240 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value {R}
SYMBOL res -528 368 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R25
SYMATTR Value {R}
SYMBOL cap -352 352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value .01µ
SYMBOL cap -608 272 R0
SYMATTR InstName C6
SYMATTR Value .01µ
SYMBOL opamps\\LT1001 -384 176 R0
SYMATTR InstName U13
SYMBOL diode -304 -128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 27 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode -368 -16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL res -416 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 100K
SYMBOL OpAmps\\LT1001 -112 160 R0
SYMATTR InstName U14
TEXT -480 584 Left 2 !.tran 0 25m 0 100u uic
TEXT -496 -176 Left 2 ;1. GENERADOR SONOIDAL WIEN
TEXT 672 32 Left 2 ;3. COMPARADOR->CUADRADA
TEXT 1320 -16 Left 2 ;4. SEPARADOR DE ETAPA
TEXT 2072 -24 Left 2 ;5.a. DERIVADOR->DELTA
TEXT 2040 392 Left 2 ;5.b. INTEGRADOR->TRIANGULAR
TEXT 152 312 Left 2 ;2.b. SUMADOR CON RUIDO
TEXT 2864 576 Left 2 ;6.b. SEPARADOR DE ETAPA
TEXT -480 616 Left 2 !.step param R 1k 10k 4k
TEXT 3568 576 Left 2 ;7. COMPARADOR->PWM
TEXT 3936 664 Left 2 ;problema con el 'cero' \nbaja hasta -200mv
TEXT -480 648 Left 2 ;.param R 100k
TEXT 256 1024 Left 2 ;.noise V(out_int) V1 dec 100 1 100k
TEXT -480 448 Left 2 ;potes doble de 100k y quizas otro\nde 10k en serie para mas resolucion
TEXT 3784 920 Left 2 ;.step param R_2 10k 100k 30k
TEXT 5432 136 Left 2 ;.step param R_3 1k 10k 3k
TEXT 3784 952 Left 2 !.param R_2 100k
TEXT 5440 264 Left 2 ;los switches serian una unica llave selectora,\no bien podrian ir por separado
TEXT 2848 80 Left 2 ;6.a. SEPARADOR DE ETAPA
TEXT 4304 592 Left 2 ;8. SEPARADOR DE ETAPA
TEXT 5112 -312 Left 2 ;9. SUMADOR AMPLIFICADOR -> SALIDA
TEXT 5432 176 Left 2 !.param R_3 1K
TEXT 5432 216 Left 2 !.Model SW_1 SW(Ron=1m Roff=100Meg Vt=5)
TEXT -488 712 Left 2 ;simulando distntas frecuencias a la vez van\na tener distintos transitorios, cuidado al \nsimular frecuencias muy dispares, puede no\nterminar el transitorio de una mientras que\notra se simula de mas
TEXT 152 -16 Left 2 ;2.a. SEPARADOR DE ETAPA
TEXT 3400 920 Left 2 ;se puede variar la tension \nde referencia con R23
